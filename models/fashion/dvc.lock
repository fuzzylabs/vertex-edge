schema: '2.0'
stages:
  prepare-mnist:
    cmd: python3 prepare-mnist.py
    deps:
    - path: ../../data/fashion-mnist/t10k-images-idx3-ubyte.gz
      md5: bef4ecab320f06d8554ea6380940ec79
      size: 4422102
    - path: ../../data/fashion-mnist/t10k-labels-idx1-ubyte.gz
      md5: bb300cfdad3c16e7a12a480ee83cd310
      size: 5148
    - path: ../../data/fashion-mnist/train-images-idx3-ubyte.gz
      md5: 8d4fb7e6c68d591d4c3dfef9ec88bf0d
      size: 26421880
    - path: ../../data/fashion-mnist/train-labels-idx1-ubyte.gz
      md5: 25c81989df183df01b3e8a0aad5dffbe
      size: 29515
    - path: prepare-mnist.py
      md5: 48a8c95b961f1600c947573f07e419ba
      size: 422
    outs:
    - path: ../../data/fashion-mnist/test.pickle
      md5: e86737aa7d8d8f5d588f91f0ed882e1f
      size: 15732309
    - path: ../../data/fashion-mnist/train.pickle
      md5: 1c7f87c1445bd183785e8b20c3d79369
      size: 94393209
  train:
    cmd: dvc push && PYTHONPATH=../../ python3 train-wrapper.py
    deps:
    - path: ../../data/fashion-mnist/test.pickle
      md5: e86737aa7d8d8f5d588f91f0ed882e1f
      size: 15732309
    - path: ../../data/fashion-mnist/train.pickle
      md5: 1c7f87c1445bd183785e8b20c3d79369
      size: 94393209
    - path: train-wrapper.py
      md5: 96ced7cf6b1a7d8a82d64190fc404a96
      size: 2448
    - path: train.py
      md5: 68150a95b1223375445f86eb4d9452e5
      size: 2764
    params:
      params.yaml:
        train.is_local: true
        train.n_neighbours: 3
    outs:
    - path: trained_model.json
      md5: 4fd7ed0727bf3da4ce5a12db3aa93505
      size: 38
